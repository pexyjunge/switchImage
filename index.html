<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" href="css/style.css" />
		<script type="text/javascript" src="js/jquery-1.4.1.js" ></script>
		<script>
			
			$(function(){
				var num2=4;
				var lastNum=2;
				var time=0;
				//创建定时器
				function timer(index){
					
				}
//				function play(){
//					var currentOl=$('ol li[class=current]');
//					var olNum=currentOl.index();
//					alert(olNum);
//					var num3=olNum+1;
//					if(num3==3){
//						num3=0;
//					}
//					$('ul li').eq(olNum).css('z-index',num2);
//					$('ul li').eq(num).css('left','600px');
//					$('ul li').eq(olNum).animate({left:'0'},500);
//					$('ul li').eq(lastNum).animate({left:'-'},500);
//					$('ol li').eq(num3).attr('class','current');
//					$('ol li').eq(num3).siblings().attr('class','');
//					lastNum=olNum;
//				}

				$("ol li").click(function(e){
					if(time==0){
						time=1;
						var index=setInterval(function(){
							time--;
							if(time==0){
								clearInterval(index);
							}
						},500);
						$(this).attr('class','current');//将当前点击的liclass设置为current
						$(this).siblings().attr('class','');//将其它的liclass设置为空
						num2++;
						var num=$(this).index();
						//alert(num+"lastnum："+lastNum);
						$('ul li').eq(num).css('z-index',num2);
						if(num>lastNum){
							$('ul li').eq(num).css('left','600px');
							$('ul li').eq(num).animate({left:'0'},500);
							$('ul li').eq(lastNum).animate({left:'-600'},500);
							lastNum=num;
						}else if(num<lastNum){
							$('ul li').eq(num).css('left','-600px');
							$('ul li').eq(num).animate({'left':'0'},500);
							$('ul li').eq(lastNum).animate({'left':'600'},500);
							lastNum=num;
						}else{}
						//alert("按钮事件被触发");
					}
				});

			});
		</script>
	</head>
	<body>
		<div class="all">
			<ul>
				<li><img src="img/1.jpg" class="img"/></li>
				<li><img src="img/2.jpg" class="img"/></li>
				<li><img src="img/3.jpg" class="img"/></li>
			</ul>
			<ol>
				<li></li>
				<li></li>
				<li class="current"></li>
			</ol>
		</div>
	</body>
</html>
